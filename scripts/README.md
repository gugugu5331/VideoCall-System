# 音视频通话系统 - 管理脚本

本目录包含了用于管理音视频通话系统的各种脚本。

## 📁 脚本文件

### 主要管理脚本

- **`manage_system.bat`** - 一键管理脚本（推荐使用）
  - 提供图形化菜单界面
  - 支持启动、停止、重启、测试等操作
  - 双击即可运行

- **`manage_system.ps1`** - PowerShell管理脚本
  - 功能更强大的命令行脚本
  - 支持参数化操作
  - 提供详细的彩色输出

### 快速启动脚本

- **`start_backend.bat`** - 快速启动后端服务
- **`start_frontend.bat`** - 快速启动前端服务

## 🚀 使用方法

### 方法一：使用图形化菜单（推荐）

1. 双击运行 `manage_system.bat`
2. 在菜单中选择相应操作：
   - `[1]` - 启动所有服务
   - `[2]` - 停止所有服务
   - `[3]` - 重启所有服务
   - `[4]` - 测试所有服务
   - `[5]` - 查看服务状态
   - `[6]` - 清理端口占用
   - `[7]` - 打开前端界面
   - `[8]` - 显示帮助信息
   - `[0]` - 退出

### 方法二：使用PowerShell脚本

```powershell
# 启动所有服务
.\manage_system.ps1 start

# 停止所有服务
.\manage_system.ps1 stop

# 重启所有服务
.\manage_system.ps1 restart

# 测试所有服务
.\manage_system.ps1 test

# 查看服务状态
.\manage_system.ps1 status

# 清理端口占用
.\manage_system.ps1 clean

# 显示帮助
.\manage_system.ps1 help
```

### 方法三：单独启动服务

```bash
# 启动后端服务
.\start_backend.bat

# 启动前端服务
.\start_frontend.bat
```

## 📋 服务配置

| 服务 | 端口 | 访问地址 |
|------|------|----------|
| 后端服务 | 8000 | http://localhost:8000 |
| 前端服务 | 8080 | http://localhost:8080 |
| AI服务 | 5001 | http://localhost:5001 |
| 数据库 | 5432 | - |
| Redis | 6379 | - |

## 🔧 功能特性

### 自动端口管理
- 自动检测端口占用
- 智能释放被占用的端口
- 避免端口冲突

### 服务状态监控
- 实时检查服务运行状态
- 测试API接口响应
- 提供详细的状态报告

### 错误处理
- 完善的错误处理机制
- 详细的错误信息提示
- 自动重试机制

### 用户友好
- 彩色输出界面
- 中文提示信息
- 图形化菜单

## 🛠️ 故障排除

### 端口被占用
```bash
# 清理端口占用
.\manage_system.ps1 clean
```

### 服务启动失败
1. 检查相关文件是否存在
2. 确认依赖环境已安装（Go、Python）
3. 查看错误日志信息

### 权限问题
如果遇到权限问题，请以管理员身份运行PowerShell：
```powershell
# 设置执行策略
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser
```

## 📝 注意事项

1. **首次使用**：建议先运行 `clean` 清理端口占用
2. **启动顺序**：后端服务 → 前端服务 → AI服务
3. **依赖环境**：确保已安装 Go 和 Python
4. **防火墙**：确保防火墙允许相关端口访问

## 🎯 快速开始

1. 双击运行 `manage_system.bat`
2. 选择 `[6]` 清理端口占用
3. 选择 `[1]` 启动所有服务
4. 选择 `[7]` 打开前端界面
5. 选择 `[4]` 测试服务状态

## 📞 技术支持

如果遇到问题，请检查：
- 服务日志输出
- 端口占用情况
- 依赖环境状态
- 网络连接情况 