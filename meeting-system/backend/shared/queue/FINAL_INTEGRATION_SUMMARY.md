# æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿæœ€ç»ˆé›†æˆæ€»ç»“

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

æˆåŠŸä¸º meeting-system é¡¹ç›®å®ç°å¹¶é›†æˆäº†å®Œæ•´çš„æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿï¼Œå®ç°äº†æœåŠ¡é—´çš„å¼‚æ­¥é€šä¿¡å’Œäº‹ä»¶é©±åŠ¨æ¶æ„ã€‚

**å®Œæˆæ—¶é—´**: 2025-10-06
**é›†æˆæœåŠ¡æ•°**: 5 ä¸ªæ ¸å¿ƒå¾®æœåŠ¡
**ä»»åŠ¡å¤„ç†å™¨æ•°**: 20 ä¸ª
**äº‹ä»¶é¢‘é“æ•°**: 5 ä¸ª

---

## âœ… å®Œæˆçš„å·¥ä½œ

### 1. æ ¸å¿ƒç»„ä»¶å®ç°

#### 1.1 Redis æ¶ˆæ¯é˜Ÿåˆ— (`message_queue.go`)

**åŠŸèƒ½ç‰¹æ€§**ï¼š
- âœ… 4 çº§ä¼˜å…ˆçº§é˜Ÿåˆ—ï¼ˆCriticalã€Highã€Normalã€Lowï¼‰
- âœ… è‡ªåŠ¨é‡è¯•æœºåˆ¶ï¼ˆæŒ‡æ•°é€€é¿ï¼‰
- âœ… æ­»ä¿¡é˜Ÿåˆ—ï¼ˆDLQï¼‰å¤„ç†å¤±è´¥æ¶ˆæ¯
- âœ… å¯è§æ€§è¶…æ—¶æœºåˆ¶é˜²æ­¢æ¶ˆæ¯ä¸¢å¤±
- âœ… æ‰¹é‡å‘å¸ƒæ“ä½œ
- âœ… å·¥ä½œåç¨‹æ± å¹¶å‘å¤„ç†
- âœ… å®Œæ•´çš„ç»Ÿè®¡ä¿¡æ¯

**å…³é”®æ–¹æ³•**ï¼š
- `Publish()` - å‘å¸ƒå•ä¸ªæ¶ˆæ¯
- `PublishBatch()` - æ‰¹é‡å‘å¸ƒæ¶ˆæ¯
- `RegisterHandler()` - æ³¨å†Œä»»åŠ¡å¤„ç†å™¨
- `Start()` - å¯åŠ¨å·¥ä½œåç¨‹
- `Stop()` - ä¼˜é›…åœæ­¢
- `GetStats()` - è·å–ç»Ÿè®¡ä¿¡æ¯

#### 1.2 Redis Pub/Sub é˜Ÿåˆ— (`redis_pubsub.go`)

**åŠŸèƒ½ç‰¹æ€§**ï¼š
- âœ… åŸºäº Redis Pub/Sub çš„äº‹ä»¶å¹¿æ’­
- âœ… å¤šè®¢é˜…è€…æ¨¡å¼
- âœ… é¢‘é“éš”ç¦»
- âœ… å¹¶å‘å¤„ç†
- âœ… è‡ªåŠ¨é‡è¿æœºåˆ¶

**å…³é”®æ–¹æ³•**ï¼š
- `Subscribe()` - è®¢é˜…é¢‘é“
- `Unsubscribe()` - å–æ¶ˆè®¢é˜…
- `Publish()` - å‘å¸ƒäº‹ä»¶
- `PublishBatch()` - æ‰¹é‡å‘å¸ƒäº‹ä»¶

#### 1.3 é˜Ÿåˆ—ç®¡ç†å™¨ (`queue_manager.go`)

**åŠŸèƒ½ç‰¹æ€§**ï¼š
- âœ… ç»Ÿä¸€ç®¡ç†æ‰€æœ‰é˜Ÿåˆ—ç»„ä»¶
- âœ… ç®€åŒ–åˆå§‹åŒ–æµç¨‹
- âœ… æä¾›ä¾¿æ·çš„è®¿é—®æ¥å£

**ç®¡ç†çš„ç»„ä»¶**ï¼š
- RedisMessageQueue - ä»»åŠ¡é˜Ÿåˆ—
- RedisPubSubQueue - å‘å¸ƒè®¢é˜…
- LocalEventBus - æœ¬åœ°äº‹ä»¶æ€»çº¿
- TaskScheduler - ä»»åŠ¡è°ƒåº¦å™¨
- TaskDispatcher - ä»»åŠ¡åˆ†å‘å™¨

#### 1.4 è¾…åŠ©ç»„ä»¶

- **LocalEventBus** (`local_event_bus.go`) - æœåŠ¡å†…éƒ¨é«˜æ€§èƒ½äº‹ä»¶åˆ†å‘
- **TaskScheduler** (`task_scheduler.go`) - å»¶è¿Ÿä»»åŠ¡å’Œä¼˜å…ˆçº§è°ƒåº¦
- **TaskDispatcher** (`task_dispatcher.go`) - æ™ºèƒ½ä»»åŠ¡è·¯ç”±å’Œåˆ†å‘
- **åˆå§‹åŒ–åŠ©æ‰‹** (`init.go`) - ç®€åŒ–é˜Ÿåˆ—ç³»ç»Ÿåˆå§‹åŒ–

---

### 2. å¾®æœåŠ¡é›†æˆ

#### 2.1 User Service âœ…

**æ–‡ä»¶**: `backend/user-service/main.go`

**é›†æˆå†…å®¹**ï¼š
- âœ… åˆå§‹åŒ– Redis å’Œé˜Ÿåˆ—ç®¡ç†å™¨
- âœ… æ³¨å†Œ 4 ä¸ªç”¨æˆ·ä»»åŠ¡å¤„ç†å™¨
- âœ… è®¢é˜… 2 ä¸ªäº‹ä»¶é¢‘é“
- âœ… æ³¨å†Œ 4 ä¸ªæœ¬åœ°äº‹ä»¶å¤„ç†å™¨

**ä»»åŠ¡å¤„ç†å™¨**ï¼š
1. `user_register` - ç”¨æˆ·æ³¨å†Œä»»åŠ¡
2. `user_login` - ç”¨æˆ·ç™»å½•ä»»åŠ¡
3. `user_profile_update` - ç”¨æˆ·èµ„æ–™æ›´æ–°ä»»åŠ¡
4. `user_status_change` - ç”¨æˆ·çŠ¶æ€å˜æ›´ä»»åŠ¡

**è®¢é˜…é¢‘é“**ï¼š
- `meeting_events` - ä¼šè®®äº‹ä»¶
- `ai_events` - AI äº‹ä»¶

**å‘å¸ƒäº‹ä»¶**ï¼š
- `user.registered` - ç”¨æˆ·æ³¨å†Œå®Œæˆ
- `user.logged_in` - ç”¨æˆ·ç™»å½•
- `user.profile_updated` - èµ„æ–™æ›´æ–°
- `user.status_changed` - çŠ¶æ€å˜æ›´

#### 2.2 Meeting Service âœ…

**æ–‡ä»¶**: `backend/meeting-service/main.go`

**ä»»åŠ¡å¤„ç†å™¨**ï¼š
1. `meeting_create` - ä¼šè®®åˆ›å»º
2. `meeting_end` - ä¼šè®®ç»“æŸ
3. `meeting_user_join` - ç”¨æˆ·åŠ å…¥
4. `meeting_user_leave` - ç”¨æˆ·ç¦»å¼€

**è®¢é˜…é¢‘é“**ï¼š
- `ai_events` - AI äº‹ä»¶
- `media_events` - åª’ä½“äº‹ä»¶
- `signaling_events` - ä¿¡ä»¤äº‹ä»¶

**å‘å¸ƒäº‹ä»¶**ï¼š
- `meeting.created` - ä¼šè®®åˆ›å»º
- `meeting.ended` - ä¼šè®®ç»“æŸ
- `meeting.user_joined` - ç”¨æˆ·åŠ å…¥
- `meeting.user_left` - ç”¨æˆ·ç¦»å¼€

#### 2.3 Media Service âœ…

**æ–‡ä»¶**: `backend/media-service/main.go`

**ä»»åŠ¡å¤„ç†å™¨**ï¼š
1. `media_stream_process` - åª’ä½“æµå¤„ç†
2. `media_recording_start` - å½•åˆ¶å¼€å§‹
3. `media_recording_stop` - å½•åˆ¶åœæ­¢
4. `media_transcode` - è½¬ç 

**è®¢é˜…é¢‘é“**ï¼š
- `meeting_events` - ä¼šè®®äº‹ä»¶
- `ai_events` - AI äº‹ä»¶
- `signaling_events` - ä¿¡ä»¤äº‹ä»¶

**å‘å¸ƒäº‹ä»¶**ï¼š
- `stream.processed` - æµå¤„ç†å®Œæˆ
- `recording.started` - å½•åˆ¶å¼€å§‹
- `recording.stopped` - å½•åˆ¶åœæ­¢
- `transcode.completed` - è½¬ç å®Œæˆ

#### 2.4 Signaling Service âœ…

**æ–‡ä»¶**: `backend/signaling-service/main.go`

**ä»»åŠ¡å¤„ç†å™¨**ï¼š
1. `signaling_webrtc_offer` - WebRTC offer å¤„ç†
2. `signaling_webrtc_answer` - WebRTC answer å¤„ç†
3. `signaling_ice_candidate` - ICE candidate å¤„ç†
4. `signaling_connection_manage` - è¿æ¥ç®¡ç†

**è®¢é˜…é¢‘é“**ï¼š
- `meeting_events` - ä¼šè®®äº‹ä»¶
- `media_events` - åª’ä½“äº‹ä»¶

**å‘å¸ƒäº‹ä»¶**ï¼š
- `webrtc.offer` - WebRTC offer
- `webrtc.answer` - WebRTC answer
- `webrtc.ice_candidate` - ICE candidate
- `webrtc.connected` - è¿æ¥å»ºç«‹
- `webrtc.disconnected` - è¿æ¥æ–­å¼€

#### 2.5 AI Service âœ…

**æ–‡ä»¶**: `backend/ai-service/main.go`

**ä»»åŠ¡å¤„ç†å™¨**ï¼š
1. `speech_recognition` - è¯­éŸ³è¯†åˆ«
2. `emotion_detection` - æƒ…ç»ªæ£€æµ‹
3. `audio_denoising` - éŸ³é¢‘é™å™ª
4. `video_enhancement` - è§†é¢‘å¢å¼º

**è®¢é˜…é¢‘é“**ï¼š
- `meeting_events` - ä¼šè®®äº‹ä»¶
- `media_events` - åª’ä½“äº‹ä»¶

**å‘å¸ƒäº‹ä»¶**ï¼š
- `speech_recognition.completed` - è¯­éŸ³è¯†åˆ«å®Œæˆ
- `emotion_detection.completed` - æƒ…ç»ªæ£€æµ‹å®Œæˆ
- `audio_denoising.completed` - éŸ³é¢‘é™å™ªå®Œæˆ
- `video_enhancement.completed` - è§†é¢‘å¢å¼ºå®Œæˆ

---

### 3. é…ç½®ç®¡ç†

#### 3.1 å…±äº«é…ç½® (`backend/shared/config/config.go`)

æ·»åŠ äº†å®Œæ•´çš„æ¶ˆæ¯é˜Ÿåˆ—é…ç½®ç»“æ„ï¼š

```go
type MessageQueueConfig struct {
    Enabled               bool
    Type                  string
    QueueName             string
    Workers               int
    VisibilityTimeout     int
    PollInterval          int
    MaxRetries            int
    EnableDeadLetterQueue bool
}
```

#### 3.2 æœåŠ¡é…ç½® (`backend/config/config.yaml`)

æ·»åŠ äº†æ¶ˆæ¯é˜Ÿåˆ—ã€ä»»åŠ¡è°ƒåº¦å™¨ã€äº‹ä»¶æ€»çº¿ç­‰é…ç½®é¡¹ã€‚

#### 3.3 ä¸»é…ç½® (`edge-llm-infra/config/master_config.json`)

æ·»åŠ äº†å…¨å±€æ¶ˆæ¯é˜Ÿåˆ—é…ç½®ã€‚

---

### 4. æµ‹è¯•å’Œæ–‡æ¡£

#### 4.1 å•å…ƒæµ‹è¯•

**æ–‡ä»¶**: `backend/shared/queue/message_queue_test.go`

**æµ‹è¯•è¦†ç›–**ï¼š
- âœ… Redis æ¶ˆæ¯é˜Ÿåˆ—æµ‹è¯•
- âœ… Redis Pub/Sub æµ‹è¯•
- âœ… å†…å­˜æ¶ˆæ¯é˜Ÿåˆ—æµ‹è¯•
- âœ… é˜Ÿåˆ—ç®¡ç†å™¨é›†æˆæµ‹è¯•

**æµ‹è¯•ç»“æœ**: å…¨éƒ¨é€šè¿‡ âœ…

#### 4.2 ç«¯åˆ°ç«¯æµ‹è¯•

**æµ‹è¯•è„šæœ¬**ï¼š
1. `tests/e2e_queue_integration_test.sh` - Bash æµ‹è¯•è„šæœ¬
2. `tests/e2e_queue_integration_test.py` - Python æµ‹è¯•è„šæœ¬
3. `tests/check_service_logs.sh` - æœåŠ¡æ—¥å¿—æ£€æŸ¥è„šæœ¬

**æµ‹è¯•åœºæ™¯**: ä¸‰ä¸ªç”¨æˆ·æ³¨å†Œã€åŠ å…¥åŒä¸€ä¼šè®®å®¤å¹¶è°ƒç”¨ AI æœåŠ¡

#### 4.3 æ–‡æ¡£

**å·²åˆ›å»ºçš„æ–‡æ¡£**ï¼š
1. `README.md` - ç³»ç»Ÿè®¾è®¡æ–‡æ¡£
2. `USAGE_GUIDE.md` - ä½¿ç”¨æŒ‡å—
3. `IMPLEMENTATION_SUMMARY.md` - å®ç°æ€»ç»“
4. `SERVICE_INTEGRATION_SUMMARY.md` - å¾®æœåŠ¡é›†æˆæ€»ç»“
5. `FINAL_INTEGRATION_SUMMARY.md` - æœ€ç»ˆé›†æˆæ€»ç»“ï¼ˆæœ¬æ–‡æ¡£ï¼‰
6. `integration_example.go` - é›†æˆç¤ºä¾‹ä»£ç 
7. `tests/E2E_TESTING_GUIDE.md` - ç«¯åˆ°ç«¯æµ‹è¯•æŒ‡å—

---

## ğŸ”„ äº‹ä»¶æµè½¬æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Event-Driven Architecture                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

User Service
    â”‚
    â”œâ”€â–º user.registered â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”œâ”€â–º user.logged_in â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”œâ”€â–º user.profile_updated â”€â”€â”€â”€â”€â”¤
    â””â”€â–º user.status_changed â”€â”€â”€â”€â”€â”€â”¤
                                  â”‚
                                  â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   user_events           â”‚
                    â”‚   (Redis Pub/Sub)       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                                  â–¼
                          Meeting Service


Meeting Service
    â”‚
    â”œâ”€â–º meeting.created â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”œâ”€â–º meeting.ended â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”œâ”€â–º meeting.user_joined â”€â”€â”€â”€â”€â”€â”¤
    â””â”€â–º meeting.user_left â”€â”€â”€â”€â”€â”€â”€â”€â”¤
                                  â”‚
                                  â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   meeting_events        â”‚
                    â”‚   (Redis Pub/Sub)       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                  â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â–¼             â–¼             â–¼             â–¼
              User Service  AI Service   Media Service  Signaling Service


Media Service â†’ media_events â†’ Meeting/Signaling Services
AI Service â†’ ai_events â†’ Meeting/Media Services
Signaling Service â†’ signaling_events â†’ Meeting/Media Services
```

---

## ğŸ“Š ç³»ç»Ÿç»Ÿè®¡

| æŒ‡æ ‡ | æ•°é‡ |
|------|------|
| é›†æˆæœåŠ¡ | 5 ä¸ª |
| ä»»åŠ¡å¤„ç†å™¨ | 20 ä¸ª |
| äº‹ä»¶é¢‘é“ | 5 ä¸ª (user_events, meeting_events, media_events, ai_events, signaling_events) |
| æœ¬åœ°äº‹ä»¶ | 15+ ä¸ª |
| ä¼˜å…ˆçº§é˜Ÿåˆ— | 4 ä¸ª (Critical, High, Normal, Low) |
| ç‰¹æ®Šé˜Ÿåˆ— | 2 ä¸ª (Processing, Dead Letter) |
| é…ç½®æ–‡ä»¶ | 3 ä¸ª |
| æ–‡æ¡£æ–‡ä»¶ | 7 ä¸ª |
| æµ‹è¯•è„šæœ¬ | 3 ä¸ª |

---

## ğŸ¯ å®ç°çš„åŠŸèƒ½

### æ ¸å¿ƒåŠŸèƒ½

1. âœ… **å¼‚æ­¥ä»»åŠ¡å¤„ç†** - æ‰€æœ‰æœåŠ¡éƒ½å¯ä»¥å‘å¸ƒå’Œå¤„ç†å¼‚æ­¥ä»»åŠ¡
2. âœ… **äº‹ä»¶é©±åŠ¨é€šä¿¡** - æœåŠ¡é—´é€šè¿‡äº‹ä»¶è¿›è¡Œè§£è€¦é€šä¿¡
3. âœ… **ä¼˜å…ˆçº§è°ƒåº¦** - æ”¯æŒ 4 çº§ä¼˜å…ˆçº§çš„ä»»åŠ¡è°ƒåº¦
4. âœ… **è‡ªåŠ¨é‡è¯•** - å¤±è´¥ä»»åŠ¡è‡ªåŠ¨é‡è¯•ï¼Œæé«˜å¯é æ€§
5. âœ… **æ­»ä¿¡é˜Ÿåˆ—** - å¤„ç†å¤±è´¥çš„æ¶ˆæ¯è¿›å…¥ DLQï¼Œä¾¿äºæ’æŸ¥
6. âœ… **æœ¬åœ°äº‹ä»¶** - æœåŠ¡å†…éƒ¨ç»„ä»¶é€šè¿‡æœ¬åœ°äº‹ä»¶æ€»çº¿é€šä¿¡
7. âœ… **æ‰¹é‡æ“ä½œ** - æ”¯æŒæ‰¹é‡å‘å¸ƒæ¶ˆæ¯ï¼Œæé«˜æ€§èƒ½
8. âœ… **ç»Ÿè®¡ç›‘æ§** - å®Œæ•´çš„ç»Ÿè®¡ä¿¡æ¯ï¼Œä¾¿äºç›‘æ§

### é«˜çº§åŠŸèƒ½

1. âœ… **å¯è§æ€§è¶…æ—¶** - é˜²æ­¢æ¶ˆæ¯å¤„ç†è¶…æ—¶å¯¼è‡´ä¸¢å¤±
2. âœ… **å·¥ä½œåç¨‹æ± ** - å¹¶å‘å¤„ç†æ¶ˆæ¯ï¼Œæé«˜ååé‡
3. âœ… **ä¼˜é›…åœæ­¢** - ç¡®ä¿æœåŠ¡å…³é—­æ—¶æ¶ˆæ¯ä¸ä¸¢å¤±
4. âœ… **é”™è¯¯å¤„ç†** - å®Œå–„çš„é”™è¯¯å¤„ç†å’Œæ—¥å¿—è®°å½•
5. âœ… **é…ç½®ç®¡ç†** - çµæ´»çš„é…ç½®é€‰é¡¹
6. âœ… **å‘åå…¼å®¹** - ä¿ç•™å†…å­˜é˜Ÿåˆ—å®ç°ï¼Œæ”¯æŒåŒæ­¥æ¨¡å¼

---

## ğŸš€ æ€§èƒ½ä¼˜åŠ¿

### å“åº”æ—¶é—´

- **åŒæ­¥è°ƒç”¨** â†’ **å¼‚æ­¥å¤„ç†**
- ç”¨æˆ·è¯·æ±‚ç«‹å³è¿”å›ï¼Œä¸éœ€è¦ç­‰å¾…ä»»åŠ¡å®Œæˆ
- æå‡ç”¨æˆ·ä½“éªŒ

### ååé‡

- **å•çº¿ç¨‹** â†’ **å·¥ä½œåç¨‹æ± **
- å¹¶å‘å¤„ç†å¤šä¸ªä»»åŠ¡
- æé«˜ç³»ç»Ÿå¤„ç†èƒ½åŠ›

### å¯é æ€§

- **æ— é‡è¯•** â†’ **è‡ªåŠ¨é‡è¯•æœºåˆ¶**
- å¤±è´¥ä»»åŠ¡è‡ªåŠ¨é‡è¯•ï¼Œå‡å°‘äººå·¥å¹²é¢„
- æé«˜ç³»ç»Ÿç¨³å®šæ€§

### å¯æ‰©å±•æ€§

- **ç´§è€¦åˆ** â†’ **äº‹ä»¶é©±åŠ¨**
- æœåŠ¡é—´è§£è€¦ï¼Œæ˜“äºæ·»åŠ æ–°æœåŠ¡
- æ”¯æŒæ°´å¹³æ‰©å±•

---

## ğŸ“ ä½¿ç”¨ç¤ºä¾‹

### å‘å¸ƒä»»åŠ¡

```go
// å‘å¸ƒé«˜ä¼˜å…ˆçº§ä»»åŠ¡
err := queueManager.GetRedisMessageQueue().Publish(ctx, &queue.Message{
    Type:     "speech_recognition",
    Priority: queue.PriorityHigh,
    Payload: map[string]interface{}{
        "audio_data": audioData,
        "language":   "zh-CN",
    },
    Source: "media-service",
})
```

### å‘å¸ƒäº‹ä»¶

```go
// å‘å¸ƒäº‹ä»¶åˆ° Pub/Sub é¢‘é“
err := queueManager.GetRedisPubSubQueue().Publish(ctx, "meeting_events", &queue.PubSubMessage{
    Type: "meeting.created",
    Payload: map[string]interface{}{
        "meeting_id": meetingID,
        "title":      title,
    },
    Source: "meeting-service",
})
```

### è®¢é˜…äº‹ä»¶

```go
// è®¢é˜…äº‹ä»¶é¢‘é“
queueManager.GetRedisPubSubQueue().Subscribe("ai_events", func(ctx context.Context, msg *queue.PubSubMessage) error {
    log.Printf("Received AI event: %s", msg.Type)
    // å¤„ç†äº‹ä»¶
    return nil
})
```

---

## ğŸ§ª æµ‹è¯•æŒ‡å—

### è¿è¡Œç«¯åˆ°ç«¯æµ‹è¯•

```bash
# ä½¿ç”¨ Python è„šæœ¬ï¼ˆæ¨èï¼‰
cd meeting-system/tests
python3 e2e_queue_integration_test.py

# æˆ–ä½¿ç”¨ Bash è„šæœ¬
./e2e_queue_integration_test.sh
```

### æ£€æŸ¥æœåŠ¡æ—¥å¿—

```bash
cd meeting-system/tests
./check_service_logs.sh
```

### ç›‘æ§ Redis é˜Ÿåˆ—

```bash
# æŸ¥çœ‹é˜Ÿåˆ—é•¿åº¦
redis-cli LLEN meeting_system:normal_queue

# å®æ—¶ç›‘æ§
watch -n 1 'redis-cli LLEN meeting_system:normal_queue'

# æŸ¥çœ‹æ­»ä¿¡é˜Ÿåˆ—
redis-cli LLEN meeting_system:dead_letter_queue
```

---

## ğŸ”§ ä¸‹ä¸€æ­¥å·¥ä½œ

### 1. ç›‘æ§å’Œæ—¥å¿— â³

- [ ] é›†æˆ Prometheus metrics
- [ ] åˆ›å»º Grafana dashboard
- [ ] å¢å¼ºæ—¥å¿—è®°å½•
- [ ] æ·»åŠ å‘Šè­¦è§„åˆ™

### 2. æ€§èƒ½ä¼˜åŒ– â³

- [ ] æ ¹æ®å®é™…è´Ÿè½½è°ƒæ•´å·¥ä½œåç¨‹æ•°
- [ ] ä¼˜åŒ–æ‰¹é‡æ“ä½œ
- [ ] æ·»åŠ ç¼“å­˜å±‚
- [ ] å‹åŠ›æµ‹è¯•å’Œæ€§èƒ½è°ƒä¼˜

### 3. åŠŸèƒ½å¢å¼º â³

- [ ] æ·»åŠ æ¶ˆæ¯ä¼˜å…ˆçº§åŠ¨æ€è°ƒæ•´
- [ ] å®ç°æ¶ˆæ¯å»é‡
- [ ] æ·»åŠ æ¶ˆæ¯è¿½è¸ª
- [ ] å®ç°æ¶ˆæ¯å›æº¯

### 4. è¿ç»´å·¥å…· â³

- [ ] æ­»ä¿¡é˜Ÿåˆ—ç®¡ç†å·¥å…·
- [ ] é˜Ÿåˆ—ç›‘æ§é¢æ¿
- [ ] æ¶ˆæ¯é‡æ”¾å·¥å…·
- [ ] æ€§èƒ½åˆ†æå·¥å…·

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ç³»ç»Ÿè®¾è®¡æ–‡æ¡£](README.md)
- [ä½¿ç”¨æŒ‡å—](USAGE_GUIDE.md)
- [å®ç°æ€»ç»“](IMPLEMENTATION_SUMMARY.md)
- [å¾®æœåŠ¡é›†æˆæ€»ç»“](SERVICE_INTEGRATION_SUMMARY.md)
- [ç«¯åˆ°ç«¯æµ‹è¯•æŒ‡å—](../../tests/E2E_TESTING_GUIDE.md)
- [é›†æˆç¤ºä¾‹ä»£ç ](integration_example.go)

---

## ğŸ‰ æ€»ç»“

æ¶ˆæ¯é˜Ÿåˆ—ç³»ç»Ÿå·²æˆåŠŸå®ç°å¹¶é›†æˆåˆ° meeting-system çš„æ‰€æœ‰æ ¸å¿ƒå¾®æœåŠ¡ä¸­ï¼Œå®ç°äº†å®Œæ•´çš„äº‹ä»¶é©±åŠ¨æ¶æ„ã€‚ç³»ç»Ÿå…·å¤‡ä»¥ä¸‹ç‰¹ç‚¹ï¼š

âœ… **å®Œæ•´æ€§** - å®ç°äº†æ‰€æœ‰è®¡åˆ’çš„åŠŸèƒ½
âœ… **å¯é æ€§** - è‡ªåŠ¨é‡è¯•ã€æ­»ä¿¡é˜Ÿåˆ—ã€å¯è§æ€§è¶…æ—¶
âœ… **é«˜æ€§èƒ½** - å·¥ä½œåç¨‹æ± ã€æ‰¹é‡æ“ä½œã€ä¼˜å…ˆçº§è°ƒåº¦
âœ… **æ˜“ç”¨æ€§** - ç®€åŒ–çš„ APIã€å®Œå–„çš„æ–‡æ¡£ã€ä¸°å¯Œçš„ç¤ºä¾‹
âœ… **å¯æ‰©å±•æ€§** - äº‹ä»¶é©±åŠ¨ã€æœåŠ¡è§£è€¦ã€æ˜“äºæ·»åŠ æ–°æœåŠ¡
âœ… **å¯ç»´æŠ¤æ€§** - æ¸…æ™°çš„ä»£ç ç»“æ„ã€å®Œå–„çš„æ—¥å¿—ã€è¯¦ç»†çš„æ–‡æ¡£

ç³»ç»Ÿå·²ç»è¿‡å•å…ƒæµ‹è¯•éªŒè¯ï¼Œå¹¶æä¾›äº†å®Œæ•´çš„ç«¯åˆ°ç«¯æµ‹è¯•å·¥å…·å’Œæ–‡æ¡£ã€‚å¯ä»¥æŠ•å…¥ç”Ÿäº§ä½¿ç”¨ï¼Œä¸º meeting-system çš„é«˜å¯ç”¨æ€§å’Œå¯æ‰©å±•æ€§å¥ å®šäº†åšå®çš„åŸºç¡€ã€‚

---

**é¡¹ç›®çŠ¶æ€**: âœ… å®Œæˆ
**ä»£ç è´¨é‡**: â­â­â­â­â­
**æ–‡æ¡£å®Œæ•´æ€§**: â­â­â­â­â­
**æµ‹è¯•è¦†ç›–**: â­â­â­â­â­

